<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Rule Cards with Subcards</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles-rules.css') }}">
</head>
<body>
    <h1>Rule Editor</h1>
    <div id="room-name" style="display: none;">{{ room }}</div>
    <div class="toggle-container">
        <button class="toggle-button active" data-target="rules">Edit Rules</button>
        <button class="toggle-button" data-target="states">Edit States</button>
    </div>
    <input type="text" id="search-input" class="search-input" placeholder="Search rules...">
    <button class="add-rule-btn" id="add-rule-btn">Add New Rule</button>
    <button id="save-rules-btn" class="add-rule-btn" style="background-color: #28a745; margin-top: 20px;">
        Save Rules!
    </button>    
    <div class="rules-container" id="rules-container"></div>
    <div id="states" class="section-container">
        <!-- Lights Section -->
        <div class="state-section" id="light">
            <h2>Lights</h2>
            <button class="add-state-btn" data-section="light">Add State</button>
            <div class="state-list"></div>
        </div>

        <!-- Sensors Section -->
        <div class="state-section" id="Sensor">
            <h2>Sensors</h2>
            <button class="add-state-btn" data-section="Sensor">Add State</button>
            <div class="state-list"></div>
        </div>

        <!-- Maglocks Section -->
        <div class="state-section" id="maglock">
            <h2>Maglocks</h2>
            <button class="add-state-btn" data-section="maglock">Add State</button>
            <div class="state-list"></div>
        </div>

        <!-- Buttons Section -->
        <div class="state-section" id="button">
            <h2>Buttons</h2>
            <button class="add-state-btn" data-section="button">Add State</button>
            <div class="state-list"></div>
        </div>

        <!-- Logic Section -->
        <div class="state-section" id="logic">
            <h2>Logic</h2>
            <button class="add-state-btn" data-section="logic">Add State</button>
            <div class="state-list"></div>
        </div>

        <!-- RFID Section -->
        <div class="state-section" id="rfid">
            <h2>RFID</h2>
            <button class="add-state-btn" data-section="rfid">Add State</button>
            <div class="state-list"></div>
        </div>

        <!-- Different Section -->
        <div class="state-section" id="different">
            <h2>Different</h2>
            <button class="add-state-btn" data-section="different">Add State</button>
            <div class="state-list"></div>
        </div>

        <button id="save-states-btn" class="add-rule-btn" style="background-color: #28a745; margin-top: 20px;">
            Save States!
        </button>
    </div>
</body>
<script src="{{ url_for('static', filename='js/rules.js') }}"></script>
</html>
